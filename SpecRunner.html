<html>
  <head>
    <title>VT Campus Maps Mocha Tests</title>
    <link rel="stylesheet" href="./node_modules/mocha/mocha.css"/>
    <script src="./node_modules/mocha/mocha.js"></script>
    <script src="./node_modules/chai/chai.js"></script>
    <script src="http://js.arcgis.com/3.9compact"></script>
  </head>
  <body>
    <div id="mocha"></div>
    <script>
      /* XXX: PhantomJS seems to have a problem with the variable "should"
       * being defined globally. If the declaration "var should" is missing
       * it complains - "Warning: PhantomJS timed out, possibly due to a
       * missing Mocha run() call".
       */
      var should;

      should = chai.should();
      mocha.setup('bdd');
      mocha.checkLeaks();

      require([
        'spec/feature_layer_spec.js'
      ], function () {
        mocha.run();
      });
    </script>
  </body>
</html>
